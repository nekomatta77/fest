document.addEventListener('DOMContentLoaded', () => {

    // --- 1. ДАННЫЕ ЖЮРИ ---
    const juryData = [
        {
            id: 1,
            name: "Иван Сачков",
            role: "Хореограф, танцовщик",
            img: "assets/actors/Sachkov.png",
            bio: "Преподаватель-исследователь современного танца программы бакалавриата «Искусство современного танца» Санкт-Петербургской Государственной консерватории имени Н.А.Римского-Корсакова, Академии Русского балета имени А. Я. Вагановой. Приглашенный педагог танцевальной труппы MA Dance — MusicAeterna при фонде Теодора Курентзиса. Санкт-Петербург.",
            // Смещение фото: показываем верхнюю часть изображения (20% от верха), 
            // чтобы лицо было выше и не обрезалось
            customPosition: "center 20%" 
        },
        {
            id: 2,
            name: "Виктория Сидельникова",
            role: "Дипломированный специалист, хореограф",
            img: "assets/actors/Sidelnikova.png",
            bio: "Руководитель 1 категории. Член федерации педагогов-хореографов России. Хореограф интенсивов и мастер-классов, представитель танцевальных форумов и фестивалей в России. Артист мюзиклов и спектаклей Московского академического театра сатиры. Артист драмы высшей категории. Участница телевизионных проектов «Танцуй» на Первом, «Танцы» на ТНТ, «Танцуют все». Артист телевизионных передач и программ на телеканалах ТНТ, ТВЦ, Россия 1 и другие. Неоднократно участница образовательной программы современного танца по иностранным педагогам-хореографам (США, Великобритания, Финляндия, Израиль, Испания, Швеция, Бельгия, Нидерланды). Практик и психолог — авторской методики развития современной пластики тела. Москва."
        },
        {
            id: 3,
            name: "Арсений Хорунжий",
            role: "Дипломированный специалист",
            img: "assets/actors/Horunjii.png",
            bio: "Образование высшее. Закончил Российскую академию театрального искусства ГИТИС. Педагог историко-бытовых и современных бальных танцев по специализации хореограф-постановщик шоу программ. Хореограф Московского академического театра сатиры. Артист драмы высшей категории. Член Союза Театральных деятелей Российской Федерации. Член Федерации педагогов-хореографов РФ. Хореограф победителей проекта «Танцы со звездами» 2013-2016 (Россия-1). Хореограф проекта «Танцы на ТНТ» (команда Егора Дружинина). Топ 25 лучших танцоров страны 1-го сезона «Танцев на ТНТ». Судья танцевальных Федераций ОРТО, МАРКС. Экс-участник проекта A-Dessa (Стас Костюшкин). Хореограф и режиссер многочисленных городских мероприятий Москвы и Московской области. Награжден медалью Путина. Занесен в книгу «Одаренные дети, будущее России». Москва."
        },
        {
            id: 4,
            name: "Сергей Марченко",
            role: "Кандидат педагогических наук, доцент",
            img: "assets/actors/marchenko.png",
            bio: "Заведующий кафедрой современной хореографии хореографического факультета Московского государственного института культуры (МГИК). Доцент кафедры искусство хореографа Института славянской культуры. Москва."
        },
        {
            id: 5,
            name: "Владимир Сергиенко",
            role: "Кандидат педагогических наук",
            img: "assets/actors/sergienko.png",
            bio: "Доцент ВАК по специальности «Хореографическое искусство», доцент кафедры хореографии Орловского государственного института культуры. Руководитель лаборатории современного танца «Dругое Dвижение». Орёл."
        },
        {
            id: 6,
            name: "Кристина Фатхудинова",
            role: "Доцент кафедры народного танца МГИК",
            img: "assets/actors/fathudin.png",
            bio: "Лауреат международных конкурсов, автор творческих показов по народно-сценическому танцу, автор статей по теории и практике народно-сценического танца в подготовке студентов в вузе. Обладатель высочайшей благодарности «За примерное служение Отечеству, высокополезные труды на поприще просвещения и значительный личный вклад в сохранение и развитие образования, науки, творчества и культуры»."
        },
        {
            id: 7,
            name: "Александр Скородумов",
            role: "Экс-солист ансамбля танца им. П. Вирского",
            img: "assets/actors/skorodum.png",
            bio: "Экс-солист Государственного академического ордена Дружбы народов ансамбля танца им. П. Вирского. Артист Государственного ансамбля песни и танца «Ставрополье», Краснознамённого ансамбля песни и пляски МВО, артист балета Санкт-Петербургского мюзик-холла. Художественный руководитель ансамбля «Огни». Санкт-Петербург."
        },
        {
            id: 8,
            name: "Наталия Гофман",
            role: "Лауреат международных конкурсов",
            img: "assets/actors/gofman.png",
            bio: "Доцент кафедры современной хореографии Московского Государственного института культуры."
        },
        {
            id: 9,
            name: "Александра Рудик",
            role: "Режиссёр-хореограф, педагог",
            img: "assets/actors/rudik.png",
            bio: "Магистр хореографического искусства. Основательница Платформы современного танца bereg (Москва). Экс-артистка современной труппы театра «Балет Москва» (2008-2018). Художественный руководитель фестиваля спектаклей современного танца «Дети танцуют». Педагог по сценическому танцу в ГИТИС. Преподаватель кафедры современной хореографии в МГИК. Москва."
        },
        {
            id: 10,
            name: "Екатерина Мельникова",
            role: "Педагог-хореограф, кандидат педагогических наук",
            img: "assets/actors/melnik.png",
            bio: "Доцент кафедры Хореографии Института театрального искусства им. Народного артиста СССР И. Д. Кобзона (г. Москва). Доцент кафедры сценических искусств МГПУ (Институт культуры и искусств). Доцент ИСПО хореографический колледж им. К. Д. Ушинского («Варшавка Арт»). Член Международного Танцевального совета CID при ЮНЕСКО. Член Союза театральных деятелей РФ. Член Международного союза хореографов. Лауреат международных хореографических конкурсов. Экс-артистка балета Пензенской балетной труппы и Московского музыкального театра «Эксперимент» под руководством Заслуженного артиста России Б. Борейко. Москва."
        },
        {
            id: 11,
            name: "Виктория Арчая",
            role: "Номинант премии «Золотая Маска» 2022",
            img: "assets/actors/archay.png",
            bio: "Хореограф (современный танец, танцтеатр, физический театр). Художественный руководитель и хореограф независимой танцевальной компании Libertatem (Москва). Лауреат I степени Всероссийского конкурса артистов балета и хореографов. Участник Лаборатории Большого театра для хореографов DanceInversion. Победитель фестиваля ТанцСоюз. Москва."
        },
        {
            id: 12,
            name: "Ильшат Шабаев",
            role: "Танцовщик, хореограф",
            img: "assets/actors/shabaev.png",
            bio: "Победитель шоу «Танцы на ТНТ» (1 сезон). Победитель шоу «Звезда танцпола» на телеканале MTV (1 сезон). Актёр, артист мюзиклов «Chicago», «Notre Dame de Paris». Лучший танцор России по версии телеканала ТНТ. Москва."
        },
        {
            id: 13,
            name: "Игорь Роппельт",
            role: "Заместитель директора Театра балета Юрия Григоровича",
            img: "assets/actors/roppelt.png",
            bio: "Окончил Красноярское государственное хореографическое училище и Кемеровский государственный университет культуры и искусства. Проходил службу в армии в ансамбле песни и пляски «Красная звезда» (г. Москва). В настоящее время заместитель директора Театра балета Юрия Григоровича (г. Краснодар)."
        },
        {
            id: 14,
            name: "Любовь Марчукова",
            role: "Экс-солистка ансамбля им. Игоря Моисеева",
            img: "assets/actors/marchukova.png",
            bio: "Экс-солистка Государственного Академического ансамбля народного танца имени Игоря Моисеева. Экс-солистка мирового турне всемирно известной компании «Riverdance» в рамках проекта «Лучшие на Бродвее». Эксперт всероссийских и международных конкурсов хореографического искусства. Балетмейстер, педагог-хореограф классического и народного танца. Организатор мастер-классов в США и Канаде. Москва."
        },
        {
            id: 15,
            name: "Альберт Галичанин",
            role: "Народный артист России",
            img: "assets/actors/galichanin.png",
            bio: "Лауреат Национальной премии России «Золотая Маска». Председатель секции хореографии Учебно-методического центра по образованию Комитета по культуре Санкт-Петербурга. Санкт-Петербург."
        },
        {
            id: 16,
            name: "Иван Зайцев",
            role: "Премьер балета Михайловского театра",
            img: "assets/actors/zaycev.png",
            bio: "Артист мирового уровня, финалист Международного конкурса артистов балета «Арабеск». Окончил Краснодарское хореографическое училище и Санкт-Петербургский университет культуры и искусств (кафедра хореографии). С 2011 года солист и исполнитель ведущих партий Михайловского театра. Санкт-Петербург."
        },
        {
            id: 17,
            name: "Дмитрий Томилин",
            role: "Почетный работник культуры г. Москвы",
            img: "assets/actors/tomilin.png",
            bio: "Академик РМА, профессор ИТИ, экс-солист Государственного академического ансамбля народного танца им. Игоря Моисеева. Обладатель именной благодарности Президента России В. В. Путина. Академик Российской муниципальной академии. Москва."
        },
        {
            id: 18,
            name: "Мария Ряполова",
            role: "Хореограф, магистр Академии им. А.Я. Вагановой",
            img: "assets/actors/rypolova.png",
            bio: "Дипломант Высшей Национальной театральной премии «Золотая маска» (2024) за спектакль «Сажень» (Башкирский театр оперы и балета). Участник Лаборатории для хореографов современного танца фестиваля «Dance Inversion» при участии Большого театра России. Хореограф-постановщик проекта Илзе Лиепа «Русский балет навсегда». Преподаватель Московского хореографического училища при театре танца «Гжель». Преподаватель кафедры современной хореографии МГИК. Москва."
        }
    ];

    // --- 2. ЭЛЕМЕНТЫ DOM ---
    const juryTrack = document.getElementById('juryTrack');
    const juryModal = document.getElementById('juryModal');
    const closeJuryBtn = document.querySelector('.close-jury-btn');
    
    const jName = document.getElementById('juryModalName');
    const jRole = document.getElementById('juryModalRole');
    const jBio = document.getElementById('juryModalBio');
    const jImg = document.getElementById('juryModalImg');

    // --- 3. РЕНДЕРИНГ (С проверкой позиции фото) ---
    function createJuryCard(actor) {
        const card = document.createElement('div');
        card.classList.add('jury-card');
        
        // Генерируем стиль для смещения фото, если оно задано
        const imgStyle = actor.customPosition ? `style="object-position: ${actor.customPosition};"` : '';
        
        card.innerHTML = `
            <div class="jury-img-container">
                <img src="${actor.img}" alt="${actor.name}" loading="lazy" decoding="async" ${imgStyle}>
            </div>
            <div class="jury-info">
                <h3>${actor.name}</h3>
                <p>${actor.role}</p>
            </div>
        `;
        
        card.addEventListener('click', () => {
            openJuryModal(actor);
        });
        
        return card;
    }

    if (juryTrack) {
        // Очищаем трек на всякий случай
        juryTrack.innerHTML = '';
        
        const fragment = document.createDocumentFragment();
        juryData.forEach(actor => {
            fragment.appendChild(createJuryCard(actor));
        });
        juryTrack.appendChild(fragment);
    }

    // --- 4. ЛОГИКА МОДАЛЬНОГО ОКНА ---
    function openJuryModal(actor) {
        jName.innerText = actor.name;
        jRole.innerText = actor.role;
        jBio.innerText = actor.bio;
        jImg.src = actor.img;
        
        requestAnimationFrame(() => {
            juryModal.classList.add('active');
            juryModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        });
    }

    function closeJuryModalFunc() {
        juryModal.style.display = 'none';
        juryModal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    if (closeJuryBtn) {
        closeJuryBtn.addEventListener('click', closeJuryModalFunc);
    }

    window.addEventListener('click', (e) => {
        if (e.target == juryModal) {
            closeJuryModalFunc();
        }
    });

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && juryModal.style.display === 'flex') {
            closeJuryModalFunc();
        }
    });

});
